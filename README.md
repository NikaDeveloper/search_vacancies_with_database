# search_vacancies_with_database

# Поиск и анализ вакансий с hh.ru

## Описание проекта
Проект представляет собой приложение для работы с вакансиями, полученными через публичный API [hh.ru](https://hh.ru).  
Цель — собрать данные о работодателях и их вакансиях, сохранить их в базе данных **PostgreSQL** и реализовать удобный интерфейс для анализа.

## Основные возможности
- Получение данных о компаниях и вакансиях с hh.ru (через `requests`).
- Автоматическое создание базы данных и таблиц в PostgreSQL.
- Загрузка данных о работодателях и вакансиях в БД.
- Работа с БД через класс `DBManager`.

### Методы `DBManager`
- `get_companies_and_vacancies_count()` — список всех компаний и количество вакансий у каждой.
- `get_all_vacancies()` — список всех вакансий с названием компании, вакансии, зарплатой и ссылкой.
- `get_avg_salary()` — средняя зарплата по всем вакансиям.
- `get_vacancies_with_higher_salary()` — вакансии с зарплатой выше средней.
- `get_vacancies_with_keyword(keyword)` — вакансии, содержащие в названии указанное слово (например, `python`).

## Используемые технологии
- Python 3.13
- PostgreSQL
- `psycopg2` — работа с БД
- `requests` — работа с API hh.ru

## Установка и запуск
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/search_vacancies_with_database.git

2. Перейдите в папку проекта:
   ```bash
   cd search_vacancies_with_database


3. Установите зависимости с помощью Poetry, затем активируйте виртуальное окружение:
   ```bash
   poetry install
   
   poetry shell

4. Настройте подключение к базе данных (файл конфигурации config):

      DB_NAME=hh_vacancies
      DB_USER=your_username
      DB_PASSWORD=your_password
      DB_HOST=localhost
      DB_PORT=5432

5. Запустите проект:
   ```bash
   python src/main.py

### Пример работы

#### После запуска программы пользователю доступно меню:

МЕНЮ:
1. Показать компании и количество вакансий
2. Показать все вакансии
3. Показать среднюю зарплату
4. Показать вакансии с зарплатой выше средней
5. Поиск вакансий по ключевому слову
0. Выход

## Пример вывода:
Средняя зарплата по всем вакансиям: 103570.66 руб.

Компании и количество вакансий
----------------------------------------
Ростелеком: 100 вакансий
Яндекс: 100 вакансий
Ozon: 100 вакансий

